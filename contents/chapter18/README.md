# JPA 기반 애플리케이션 테스트 하기

## DAO or Repository

자바 애플리케이션은 데이터를 영구 저장하기 위해서 RDBMS 를 주로 사용한다. 데이터를 영구 저장하기 위한 방법이 존재하는데 다음과 같다.

- SQL 문을 직접 작성
- JDBC 프로그래밍을 쉽게 해주는 서드파티 툴 사용
  - Ex. MyBatis, Spring JDBC Templates
- 객체를 SQL 에 매핑하고, SQL 을 객체로 매핑 해주는 ORM 툴을 사용하여 데이터베이스 액세스 관련 전체를 위임

전 세계적으로 세 번째의 사용 빈도가 앞도적으로 높다. 대한민국 SI 시장에서는 JPA 보다 MyBatis 비중이 더 높은것으로 알고 있다.

번외로 계층을 나누면 무슨 이점이 있을까 ?

- 각 계층간에 별도로 테스트가 가능하다.
- 계층이 나눠져 있어서 코드의 응집도가 높아지고, 결합도가 낮아져서 코드의 유지보수성과 확장성, 재사용성이 용이하다.
  - 예를들어 Controller 에서 View 와 관련된 행동, 비지니스 로직, 데이터 접근등을 다 처리한다면.. 상상만해도 끔찍하다... 그만 상상하자.

## 계층형 애플리케이션

계층형 애플리케이션이란 애플리케이션의 구조가 여러 계층으로 구분되어있는 것을 뜻한다.

웹 애플리케이션은 `표현(Presentation Layer)`, `비지니스(Business Layer)`, `영속(Persistence Layer)` 의 세 계층으로 나뉜다.

각 계층간 단위테스트와 통합 테스트가 이루어져야 한다. 
